<!DOCTYPE html><!--tmO_Puxf2gk2x_wDw3pPj--><html lang="en" class="h-full antialiased"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/pr-preview/pr-272/_next/static/media/83afe278b6a6bb3c-s.p.3a6ba036.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/pr-preview/pr-272/_next/static/media/avatar.73d60a9f.png"/><link rel="preload" href="/avatar.png" as="image"/><link rel="stylesheet" href="/pr-preview/pr-272/_next/static/chunks/055d524cca3e2418.css" data-precedence="next"/><link rel="stylesheet" href="/pr-preview/pr-272/_next/static/chunks/11a6a7cd862de9e1.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/pr-preview/pr-272/_next/static/chunks/a091ea4925d39c66.js"/><script src="/pr-preview/pr-272/_next/static/chunks/4f1ecdd32be4adb6.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/6e25ab32535aa058.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/e5e910491ce0c042.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/turbopack-e44a4231a86ccf42.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/9f1427ff6e86da83.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/2553877fc23306ea.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js" async=""></script><script src="/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js" async=""></script><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png?v=2"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png?v=2"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png?v=2"/><link rel="manifest" href="/icons/site.webmanifest?v=2"/><link rel="mask-icon" href="/icons/safari-pinned-tab.svg?v=2" color="#00ff00"/><link rel="shortcut icon" href="/icons/favicon.ico?v=2"/><meta name="msapplication-TileColor" content="#535353"/><meta name="msapplication-config" content="/icons/browserconfig.xml?v=2"/><meta name="theme-color" content="#ffffff"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="next-size-adjust" content=""/><title>I have a dream about dynamic environment provisioning - InDieTasten</title><meta name="description" content="Homepage and blog by InDieTasten."/><meta property="og:title" content="I have a dream about dynamic environment provisioning - InDieTasten"/><meta property="og:description" content="Homepage and blog by InDieTasten."/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="I have a dream about dynamic environment provisioning - InDieTasten"/><meta name="twitter:description" content="Homepage and blog by InDieTasten."/><script src="/pr-preview/pr-272/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="flex h-full bg-zinc-900 md:bg-black"><div hidden=""><!--$--><!--/$--></div><div class="flex w-full"><div class="hidden md:fixed md:inset-0 md:flex md:justify-center md:px-8 pointer-events-none z-0" aria-hidden="true"><div class="flex w-full max-w-7xl lg:px-8"><div class="w-full ring-1 bg-zinc-900 ring-zinc-300/20"></div></div></div><div class="relative flex w-full flex-col text-zinc-400 z-10"><header class="pointer-events-none relative z-50 flex flex-none flex-col" style="height:var(--header-height);margin-bottom:var(--header-mb)"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-(--header-top,--spacing(6)) w-full" style="position:var(--header-inner-position)"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1"><div class="h-10 w-10 rounded-full p-0.5 ring-1 shadow-lg shadow-zinc-800/5 backdrop-blur-sm bg-zinc-800/90 ring-white/10"><a aria-label="Home" class="pointer-events-auto" href="/pr-preview/pr-272"><img alt="" width="1710" height="1710" decoding="async" data-nimg="1" class="rounded-full object-cover bg-zinc-800 h-9 w-9" style="color:transparent" src="/pr-preview/pr-272/_next/static/media/avatar.73d60a9f.png"/></a></div></div><div class="flex flex-1 justify-end md:justify-center"><div class="pointer-events-auto md:hidden" data-headlessui-state=""><button class="group flex items-center rounded-full px-4 py-2 text-sm font-medium ring-1 shadow-lg shadow-zinc-800/5 backdrop-blur-sm bg-zinc-800/90 text-zinc-200 ring-white/10 hover:ring-white/20" type="button" aria-expanded="false" data-headlessui-state="">Menu<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span><nav class="pointer-events-auto hidden md:block"><ul class="flex rounded-full px-3 text-sm font-medium ring-1 shadow-lg shadow-zinc-800/5 backdrop-blur-sm bg-zinc-800/90 text-zinc-200 ring-white/10"><li><a class="relative block px-3 py-2 transition hover:text-teal-400" href="/pr-preview/pr-272">About</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-400" href="/pr-preview/pr-272/articles">Articles</a></li><li><a class="relative block px-3 py-2 transition hover:text-teal-400" href="/pr-preview/pr-272/projects">Projects</a></li></ul></nav></div><div class="flex justify-end md:flex-1"><div class="pointer-events-auto"></div></div></div></div></div></div></div></div></header><main class="flex-auto"><main><div class="sm:px-8"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><article class="mb-32"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">I have a dream about dynamic environment provisioning</h1><div class="mb-4 flex flex-wrap gap-2"><span class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium">#<!-- -->ci</span><span class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium">#<!-- -->cd</span><span class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium">#<!-- -->testing</span><span class="bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium">#<!-- -->infrastructure</span></div><div class="hidden md:block md:mb-12"><div class="flex items-center"><img src="/avatar.png" class="w-12 h-12 rounded-full mr-4" alt="InDieTasten"/><div class="text-xl font-bold">InDieTasten</div></div></div><div class="max-w-2xl mx-auto"><div class="block md:hidden mb-6"><div class="flex items-center"><img src="/avatar.png" class="w-12 h-12 rounded-full mr-4" alt="InDieTasten"/><div class="text-xl font-bold">InDieTasten</div></div></div><div class="mb-6 text-lg"><time dateTime="2020-10-16T00:00:00.000Z">October	16, 2020</time></div></div><div class="max-w-2xl mx-auto"><div><h2>The repeating annoyance of pre-release madness</h2>
<p>Oftentimes when developing larger business applications in a larger team,
you run into problems as you get close to release dates.
You and your colleages finally merge all of their changes together,
it deploys to a test environment and something breaks.
Assuming you've all had a couple of bug fixes at the end of the sprint,
and with larger features just completing in time to be included for the release,
you are all left with a broken application the evening before release.
What to do?</p>
<p>You revert changes, deploy again and try again, as long as it's still broken.
Numerous deployments to testing reveal, that one of the many PRs broke the app.
But it's not obvious why. Somebody probably f_cked up a merge conflict.
Everything is merged together again, a couple other problems arise in the meantime,
but in the end, you scuff together a presentable version for next days sprint review and deployment.</p>
<p>While it did work out in the end, and everybody was working together
as a team to solve this challenge (funnily enough, it's a bonding experience that will be remembered),
I think it comes with a lot of unnecessary pain.</p>
<p>A good portion of the solution revolved around chopping up the changes into smaller pieces again
and to test intermediate revisions of the result.
Deploying these one after the other and testing these sequentially,
wastes a lot of time. A lot of the time is spent waiting for CI/CD pipelines.</p>
<h2>Make annoyance go bleh</h2>
<p>I'd like to propose a different solution.
Be prepared for such incidents by having the ability to easily create additional environments.
Don't limit your testing by environments. Each PR could spin up an environment.
This could be be helpful to prevent a lot of issues.
Testers could be part of the PR review group testing specific PR changes.</p>
<p>This is even helpful for developers,
as you can now also quickly look at what the code is actually changing.
You get to see the result. Not just the source. Which can improve quality in many ways.
Oftentimes developers become blind to obvious design problems on web pages for example.
Having the resulting page visible as part of the PR would allow for "fast failing" in those areas.</p>
<p>If well integrated, automated E2E tests could be executed on those environments.
The flexibility gained by such a setup is really convenient.
It's also helping to increase confidence in your solution.
The ability to easily just create an instance isolated from
other environments would definitely help me sleep better.</p>
<p>It forces the team to invest thoughts into provisioning, deploying and seeding environments,
which are aspects of development that easily fall out of focus when time is running out in a sprint.
Schema migrations, seeding and similar issues are often at fault for final release day madness
and embarrassed team members.</p>
<h2>Caveats</h2>
<p>Of course this will be a bit more expensive on your infrastructure resources.
You have to make sure to unprovision all these environments,
as soon as they are no longer required. Though that shouldn't be that big of a deal,
as accidentally removing one too many isn't a problem, as it can be recreated easily.</p>
<p>This also only really works, when you are able to
isolate the application from other systems you don't have control over / can't provision automatically.</p>
<p>Make sure not to forget continuous environments.
It's great if you can spin up different environments quickly,
but that doesn't help, if after every release you need to
recreate production because the data isn't compatible.
I assume it's necessary to still have permanent environments for testing too,
to make sure that your previous release version is updatable to your new version
with all it's "legacy" data.</p>
<p>Speaking of legacy data, don't forget to hydrate data storages with reasonable amounts of data comparable
to production systems proportional to the machine sizes you use.
If your API works great with 10 users and falls apart at 100,
you can't really release that to a production environment with 400.000 users.
This applies to all non-production environments though, even permanent ones,
as they often don't accumulate as much data as production environments.
So strictly speaking it's not a caveat of dynamic provisioning, but more a caveat of
"not changing code directly in production" which itself comes with a bunch of other more severe caveats IMO.</p>
<h1>Discussion</h1>
<p>Do you have experience with this stuff?
How would you go about implementing this kind of integration and isolation?
Are there industry solutions out there doing this?
Let me know by shooting me an issue on
<a href="https://github.com/InDieTasten/indietasten.github.io">GitHub</a>.</p></div></div></article></div></div></div></div></main><!--$--><!--/$--></main><footer class="mt-32 flex-none"><div class="sm:px-8"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="border-t pt-10 pb-16 border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 md:flex-row"><div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-200"><a class="transition hover:text-teal-400" href="/pr-preview/pr-272">About</a><a class="transition hover:text-teal-400" href="/pr-preview/pr-272/projects">Projects</a><a class="transition hover:text-teal-400" href="/pr-preview/pr-272/legal">Legal</a></div><p class="text-sm text-zinc-500">© 2011 InDieTasten. All rights reserved.</p></div></div></div></div></div></div></footer></div></div><script src="/pr-preview/pr-272/_next/static/chunks/a091ea4925d39c66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[2971,[\"/pr-preview/pr-272/_next/static/chunks/9f1427ff6e86da83.js\",\"/pr-preview/pr-272/_next/static/chunks/2553877fc23306ea.js\"],\"Header\"]\n3:I[51608,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"default\"]\n4:I[21110,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"default\"]\n5:I[39863,[\"/pr-preview/pr-272/_next/static/chunks/9f1427ff6e86da83.js\",\"/pr-preview/pr-272/_next/static/chunks/2553877fc23306ea.js\"],\"\"]\nd:I[21044,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"default\"]\n:HL[\"/pr-preview/pr-272/_next/static/chunks/055d524cca3e2418.css\",\"style\"]\n:HL[\"/pr-preview/pr-272/_next/static/media/83afe278b6a6bb3c-s.p.3a6ba036.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/pr-preview/pr-272/_next/static/chunks/11a6a7cd862de9e1.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"tmO-Puxf2gk2x-wDw3pPj\",\"c\":[\"\",\"articles\",\"2020-10-16-Dynamic-Environment-Provisioning\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"articles\",{\"children\":[[\"slug\",\"2020-10-16-Dynamic-Environment-Provisioning\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/pr-preview/pr-272/_next/static/chunks/055d524cca3e2418.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/pr-preview/pr-272/_next/static/chunks/9f1427ff6e86da83.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/pr-preview/pr-272/_next/static/chunks/2553877fc23306ea.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full antialiased\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/icons/apple-touch-icon.png?v=2\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/icons/favicon-32x32.png?v=2\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/icons/favicon-16x16.png?v=2\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/icons/site.webmanifest?v=2\"}],[\"$\",\"link\",null,{\"rel\":\"mask-icon\",\"href\":\"/icons/safari-pinned-tab.svg?v=2\",\"color\":\"#00ff00\"}],[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"href\":\"/icons/favicon.ico?v=2\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#535353\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-config\",\"content\":\"/icons/browserconfig.xml?v=2\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#ffffff\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/feed.xml\"}]]}],[\"$\",\"body\",null,{\"className\":\"flex h-full bg-zinc-900 md:bg-black\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full\",\"children\":[[\"$\",\"div\",null,{\"className\":\"hidden md:fixed md:inset-0 md:flex md:justify-center md:px-8 pointer-events-none z-0\",\"aria-hidden\":\"true\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full ring-1 bg-zinc-900 ring-zinc-300/20\"}]}]}],[\"$\",\"div\",null,{\"className\":\"relative flex w-full flex-col text-zinc-400 z-10\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-auto\",\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"sm:px-8 flex h-full items-center pt-16 sm:pt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-base font-semibold text-zinc-500\",\"children\":\"404\"}],[\"$\",\"h1\",null,{\"className\":\"mt-4 text-4xl font-bold tracking-tight sm:text-5xl text-zinc-100\",\"children\":\"Page not found\"}],[\"$\",\"p\",null,{\"className\":\"mt-4 text-base text-zinc-400\",\"children\":\"Sorry, I couldn’t find the page you’re looking for.\"}],[\"$\",\"$L5\",null,{\"className\":\"inline-flex items-center gap-2 justify-center rounded-md py-2 px-3 text-sm outline-offset-2 transition active:transition-none font-medium active:bg-zinc-100 active:text-zinc-900/60 bg-zinc-800/50 text-zinc-300 hover:bg-zinc-800 hover:text-zinc-50 active:bg-zinc-800/50 active:text-zinc-50/70 mt-4\",\"href\":\"/\",\"children\":\"Go back home\"}]]}]}]}]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"mt-32 flex-none\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"border-t pt-10 pb-16 border-zinc-700/40\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-between gap-6 md:flex-row\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-200\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"/\",\"className\":\"transition hover:text-teal-400\",\"children\":\"About\"}],\"$L6\",\"$L7\"]}],\"$L8\"]}]}]}]}]}]}]}]]}]]}]}]]}]]}],{\"children\":[\"$L9\",{\"children\":[\"$La\",{\"children\":[\"$Lb\",{},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$Lc\",false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:I[61879,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"OutletBoundary\"]\n10:\"$Sreact.suspense\"\n12:I[61879,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"ViewportBoundary\"]\n14:I[61879,[\"/pr-preview/pr-272/_next/static/chunks/7c4f85df3640cb60.js\",\"/pr-preview/pr-272/_next/static/chunks/67b669c080ef588c.js\"],\"MetadataBoundary\"]\n6:[\"$\",\"$L5\",null,{\"href\":\"/projects\",\"className\":\"transition hover:text-teal-400\",\"children\":\"Projects\"}]\n7:[\"$\",\"$L5\",null,{\"href\":\"/legal\",\"className\":\"transition hover:text-teal-400\",\"children\":\"Legal\"}]\n8:[\"$\",\"p\",null,{\"className\":\"text-sm text-zinc-500\",\"children\":\"© 2011 InDieTasten. All rights reserved.\"}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\na:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\nb:[\"$\",\"$1\",\"c\",{\"children\":[\"$Le\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/pr-preview/pr-272/_next/static/chunks/11a6a7cd862de9e1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$10\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@11\"}]}]]}]\nc:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L12\",null,{\"children\":\"$L13\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L14\",null,{\"children\":[\"$\",\"$10\",null,{\"name\":\"Next.Metadata\",\"children\":\"$L15\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"11:null\n15:[[\"$\",\"title\",\"0\",{\"children\":\"I have a dream about dynamic environment provisioning - InDieTasten\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Homepage and blog by InDieTasten.\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"I have a dream about dynamic environment provisioning - InDieTasten\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"Homepage and blog by InDieTasten.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"5\",{\"name\":\"twitter:title\",\"content\":\"I have a dream about dynamic environment provisioning - InDieTasten\"}],[\"$\",\"meta\",\"6\",{\"name\":\"twitter:description\",\"content\":\"Homepage and blog by InDieTasten.\"}]]\n"])</script><script>self.__next_f.push([1,":HL[\"/avatar.png\",\"image\"]\n16:T12cb,"])</script><script>self.__next_f.push([1,"\u003ch2\u003eThe repeating annoyance of pre-release madness\u003c/h2\u003e\n\u003cp\u003eOftentimes when developing larger business applications in a larger team,\nyou run into problems as you get close to release dates.\nYou and your colleages finally merge all of their changes together,\nit deploys to a test environment and something breaks.\nAssuming you've all had a couple of bug fixes at the end of the sprint,\nand with larger features just completing in time to be included for the release,\nyou are all left with a broken application the evening before release.\nWhat to do?\u003c/p\u003e\n\u003cp\u003eYou revert changes, deploy again and try again, as long as it's still broken.\nNumerous deployments to testing reveal, that one of the many PRs broke the app.\nBut it's not obvious why. Somebody probably f_cked up a merge conflict.\nEverything is merged together again, a couple other problems arise in the meantime,\nbut in the end, you scuff together a presentable version for next days sprint review and deployment.\u003c/p\u003e\n\u003cp\u003eWhile it did work out in the end, and everybody was working together\nas a team to solve this challenge (funnily enough, it's a bonding experience that will be remembered),\nI think it comes with a lot of unnecessary pain.\u003c/p\u003e\n\u003cp\u003eA good portion of the solution revolved around chopping up the changes into smaller pieces again\nand to test intermediate revisions of the result.\nDeploying these one after the other and testing these sequentially,\nwastes a lot of time. A lot of the time is spent waiting for CI/CD pipelines.\u003c/p\u003e\n\u003ch2\u003eMake annoyance go bleh\u003c/h2\u003e\n\u003cp\u003eI'd like to propose a different solution.\nBe prepared for such incidents by having the ability to easily create additional environments.\nDon't limit your testing by environments. Each PR could spin up an environment.\nThis could be be helpful to prevent a lot of issues.\nTesters could be part of the PR review group testing specific PR changes.\u003c/p\u003e\n\u003cp\u003eThis is even helpful for developers,\nas you can now also quickly look at what the code is actually changing.\nYou get to see the result. Not just the source. Which can improve quality in many ways.\nOftentimes developers become blind to obvious design problems on web pages for example.\nHaving the resulting page visible as part of the PR would allow for \"fast failing\" in those areas.\u003c/p\u003e\n\u003cp\u003eIf well integrated, automated E2E tests could be executed on those environments.\nThe flexibility gained by such a setup is really convenient.\nIt's also helping to increase confidence in your solution.\nThe ability to easily just create an instance isolated from\nother environments would definitely help me sleep better.\u003c/p\u003e\n\u003cp\u003eIt forces the team to invest thoughts into provisioning, deploying and seeding environments,\nwhich are aspects of development that easily fall out of focus when time is running out in a sprint.\nSchema migrations, seeding and similar issues are often at fault for final release day madness\nand embarrassed team members.\u003c/p\u003e\n\u003ch2\u003eCaveats\u003c/h2\u003e\n\u003cp\u003eOf course this will be a bit more expensive on your infrastructure resources.\nYou have to make sure to unprovision all these environments,\nas soon as they are no longer required. Though that shouldn't be that big of a deal,\nas accidentally removing one too many isn't a problem, as it can be recreated easily.\u003c/p\u003e\n\u003cp\u003eThis also only really works, when you are able to\nisolate the application from other systems you don't have control over / can't provision automatically.\u003c/p\u003e\n\u003cp\u003eMake sure not to forget continuous environments.\nIt's great if you can spin up different environments quickly,\nbut that doesn't help, if after every release you need to\nrecreate production because the data isn't compatible.\nI assume it's necessary to still have permanent environments for testing too,\nto make sure that your previous release version is updatable to your new version\nwith all it's \"legacy\" data.\u003c/p\u003e\n\u003cp\u003eSpeaking of legacy data, don't forget to hydrate data storages with reasonable amounts of data comparable\nto production systems proportional to the machine sizes you use.\nIf your API works great with 10 users and falls apart at 100,\nyou can't really release that to a production environment with 400.000 users.\nThis applies to all non-production environments though, even permanent ones,\nas they often don't accumulate as much data as production environments.\nSo strictly speaking it's not a caveat of dynamic provisioning, but more a caveat of\n\"not changing code directly in production\" which itself comes with a bunch of other more severe caveats IMO.\u003c/p\u003e\n\u003ch1\u003eDiscussion\u003c/h1\u003e\n\u003cp\u003eDo you have experience with this stuff?\nHow would you go about implementing this kind of integration and isolation?\nAre there industry solutions out there doing this?\nLet me know by shooting me an issue on\n\u003ca href=\"https://github.com/InDieTasten/indietasten.github.io\"\u003eGitHub\u003c/a\u003e.\u003c/p\u003e"])</script><script>self.__next_f.push([1,"e:[\"$\",\"main\",null,{\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"article\",null,{\"className\":\"mb-32\",\"children\":[[[\"$\",\"h1\",null,{\"className\":\"text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left\",\"children\":\"I have a dream about dynamic environment provisioning\"}],[\"$\",\"div\",null,{\"className\":\"mb-4 flex flex-wrap gap-2\",\"children\":[[\"$\",\"span\",\"ci\",{\"className\":\"bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium\",\"children\":[\"#\",\"ci\"]}],[\"$\",\"span\",\"cd\",{\"className\":\"bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium\",\"children\":[\"#\",\"cd\"]}],[\"$\",\"span\",\"testing\",{\"className\":\"bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium\",\"children\":[\"#\",\"testing\"]}],[\"$\",\"span\",\"infrastructure\",{\"className\":\"bg-gray-300 text-gray-700 px-2 py-1 rounded text-xs font-medium\",\"children\":[\"#\",\"infrastructure\"]}]]}],[\"$\",\"div\",null,{\"className\":\"hidden md:block md:mb-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/avatar.png\",\"className\":\"w-12 h-12 rounded-full mr-4\",\"alt\":\"InDieTasten\"}],[\"$\",\"div\",null,{\"className\":\"text-xl font-bold\",\"children\":\"InDieTasten\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"block md:hidden mb-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/avatar.png\",\"className\":\"w-12 h-12 rounded-full mr-4\",\"alt\":\"InDieTasten\"}],[\"$\",\"div\",null,{\"className\":\"text-xl font-bold\",\"children\":\"InDieTasten\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"mb-6 text-lg\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2020-10-16T00:00:00.000Z\",\"children\":\"October\\t16, 2020\"}]}]]}]],[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto\",\"children\":[\"$\",\"div\",null,{\"className\":\"$undefined\",\"dangerouslySetInnerHTML\":{\"__html\":\"$16\"}}]}]]}]}]}]}]}]}]\n"])</script></body></html>